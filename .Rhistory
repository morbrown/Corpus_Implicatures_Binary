library(Hmisc)
library(gridExtra)
library(ggplot2)
library(bootstrap)
library(MuMIn)
library(lme4)
library(dplyr)
library(tidyr)
library(tidyverse)
theme_set(theme_bw())
# set your path here
setwd("/Users/morbrown/code/corpus_implicatures_binary")
source("Rscripts/helpers.R")
# read data
raw_data = read.table("proliferate_configuration_file/corpus_implicatures_binary_pilot-trials.tsv",sep="\t",header=T,quote="")
raw_data_updated = raw_data %>%
filter(!tgrep_id=="bot_check") %>%
filter(!tgrep_id=="example1") %>%
filter(!tgrep_id=="example2")
# read data
raw_data = read.table("proliferate_configuration_file/corpus_implicatures_binary_pilot-trials.tsv",sep="\t",header=T,quote="")
# read data
raw_data = read.table("proliferate_configuration_file_binary/corpus_implicatures_binary_pilot-trials.tsv",sep="\t",header=T,quote="")
raw_data_updated = raw_data %>%
filter(!tgrep_id=="bot_check") %>%
filter(!tgrep_id=="example1") %>%
filter(!tgrep_id=="example2")
class(raw_data_updated$means_same)
raw_data_updated$means_same = as.numeric(as.character(raw_data_updated$means_same))
class(raw_data_updated$means_same)
judith_data = read.table("proliferate_configuration_file/some_database_copy.csv", sep="\t",header=T,quote="")
judith_data_partitive = judith_data %>%
select(Item, Partitive) %>%
distinct() %>%
mutate(tgrep_id = Item) %>%
select(tgrep_id, Partitive) %>%
filter(tgrep_id %in% raw_data_updated$tgrep_id)
data_partitive = merge(raw_data_updated, judith_data_partitive, by = "tgrep_id")
agr = aggregate(means_same ~ tgrep_id, data=raw_data_updated, FUN=mean)
judith_data = read.table("proliferate_configuration_file_binary/some_database_copy.csv", sep="\t",header=T,quote="")
judith_data_partitive = judith_data %>%
select(Item, Partitive) %>%
distinct() %>%
mutate(tgrep_id = Item) %>%
select(tgrep_id, Partitive) %>%
filter(tgrep_id %in% raw_data_updated$tgrep_id)
data_partitive = merge(raw_data_updated, judith_data_partitive, by = "tgrep_id")
agr = aggregate(means_same ~ tgrep_id, data=raw_data_updated, FUN=mean)
ggplot(agr,aes(x=means_same)) +
geom_histogram() +
scale_x_continuous(name="Mean by-item implicature strength rating",breaks=seq(0,1,by=0.2))
# Figure 10: Distribution of simulated mean by-item ratings.
likert = c(1,2,3,4,5,6,7)
means = data.frame(Mean=replicate(1363,mean(sample(likert,size=10,replace=T))))
summary(means$Mean)
sd(means$Mean)
ggplot(means,aes(x=Mean)) +
geom_histogram() +
scale_y_continuous(limits=c(0,180)) +
scale_x_continuous(limits=c(1,7),breaks=seq(1,7,by=1),name=c("Mean by-item rating (simulated)"))
# Figure 2: Mean implicature strength ratings (left) and distribution of mean by-item ratings (right) for non-partitive and partitive some-NPs.
agr_partitive = aggregate(means_same ~ tgrep_id + Partitive, data=data_partitive,FUN=mean)
agrr_partitive = aggregate(means_same ~ Partitive, data=agr_partitive, FUN=mean)
agrr_partitive$CILow = aggregate(means_same ~ Partitive, data=agr_partitive, FUN=ci.low)$means_same
agrr_partitive$CIHigh = aggregate(means_same ~ Partitive, data=agr_partitive, FUN=ci.high)$means_same
agrr_partitive$YMin = agrr_partitive$means_same - agrr_partitive$CILow
agrr_partitive$YMax = agrr_partitive$means_same + agrr_partitive$CIHigh
agrr_partitive$Freq = as.data.frame(table(agr_partitive$Partitive))$Freq
pm = ggplot(agrr_partitive,aes(x=Partitive,y=means_same,fill=Partitive)) +
geom_bar(stat="identity",color="black",width=.5,show_guide=F) +
geom_errorbar(aes(ymin=0,ymax=1),width=.2) +
scale_x_discrete(name="",breaks=levels(agrr_partitive$Partitive),labels=c("non-partitive","partitive")) +
scale_fill_grey(start=0.7,end=0.35,name="") +
scale_y_continuous("Mean implicature strength") +
geom_text(y=0.5,aes(label=Freq),size=4)
pm
View(data_partitive)
View(raw_data)
View(raw_data_updated)
judith_data_subjecthood = judith_data %>%
select(Item, Subjecthood) %>%
distinct() %>%
mutate(tgrep_id = Item) %>%
select(tgrep_id, Subjecthood) %>%
filter(tgrep_id %in% raw_data_updated$tgrep_id)
data_subjecthood = merge(raw_data_updated, judith_data_subjecthood, by = "tgrep_id")
agr_subj = aggregate(means_same ~ tgrep_id + Subjecthood, data=data_subjecthood, FUN=mean)
agrr_subj = aggregate(data=agr_subj, means_same ~ Subjecthood, FUN=mean)
agrr_subj$CILow = aggregate(means_same ~ Subjecthood, data=agr_subj, FUN=ci.low)$means_same
agrr_subj$CIHigh = aggregate(means_same ~ Subjecthood, data=agr_subj, FUN=ci.high)$means_same
agrr_subj$YMin = agrr_subj$means_same - agrr_subj$CILow
agrr_subj$YMax = agrr_subj$means_same + agrr_subj$CIHigh
agrr_subj$Freq = as.data.frame(table(agr_subj$Subjecthood))$Freq
pm_subj = ggplot(agrr_subj,aes(x=Subjecthood,y=means_same,fill=Subjecthood)) +
geom_bar(stat="identity",color="black",width=.5,show_guide=F) +
geom_errorbar(aes(ymin=YMin,ymax=YMax),width=.2) +
scale_fill_grey(start=.9,end=.35) +
scale_x_discrete(name="",breaks=levels(agrr_subj$Subjecthood),labels=c("other","subject")) +
scale_y_continuous("Mean implicature strength") +
geom_text(y=0.5,aes(label=Freq),size=4)
pm_subj
